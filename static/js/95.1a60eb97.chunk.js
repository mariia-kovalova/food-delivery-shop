"use strict";(self.webpackChunkfood_delivery_shop=self.webpackChunkfood_delivery_shop||[]).push([[95],{5859:function(n,e,t){t.d(e,{y:function(){return c}});var r=t(9434),i=function(n){return n.orders.items},o=function(n){return n.orders.isLoading},a=function(n){return n.orders.error},c=function(){return{orders:(0,r.v9)(i),isLoading:(0,r.v9)(o),error:(0,r.v9)(a)}}},2095:function(n,e,t){t.r(e),t.d(e,{default:function(){return pe}});var r,i,o,a,c,s,u,l,d,f,p,m,h,x,g,b,Z,v,j,y,w,k,z,_,C,E,N,S=t(2814),M=t(6907),q=t(2872),I=t(7341),T=t(5861),R=t(9439),P=t(4687),A=t.n(P),B=t(2791),L=t(7993),V=t(9434),$=function(n){return n.user.name},D=function(n){return n.user.email},F=function(n){return n.user.number},Y=function(n){return n.user.address},J=function(n){return n.user.location},O=function(){return{name:(0,V.v9)($),email:(0,V.v9)(D),number:(0,V.v9)(F),address:(0,V.v9)(Y),user_location:(0,V.v9)(J)}},G=t(6373),K=t(168),X=t(4709),H=X.Z.div(r||(r=(0,K.Z)(["\n  height: 300px;\n"]))),U=X.Z.div(i||(i=(0,K.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n\n  margin-top: 20px;\n"]))),W=t(6382),Q=X.Z.div(o||(o=(0,K.Z)(["\n  margin-top: 20px;\n"]))),nn=X.Z.label(a||(a=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n\n  color: ",";\n"])),(function(n){return n.textPrimary})),en=X.Z.input(c||(c=(0,K.Z)(["\n  background-color: #fff;\n  outline: none;\n  border: 2px solid ",";\n  border-radius: 8px;\n  color: #212121;\n  padding: 0.875rem;\n\n  width: 100%;\n\n  &::placeholder {\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 18px;\n\n    color: ",";\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.text})),tn=t(184),rn=(0,W.x0)(),on=function(n){var e=n.address,t=n.map,r=(0,B.useState)(null),i=(0,R.Z)(r,2),o=i[0],a=i[1],c=(0,B.useState)(""),s=(0,R.Z)(c,2),u=s[0],l=s[1],d=(0,V.I0)();(0,B.useEffect)((function(){return l(e),function(){return a(null)}}),[e]);return(0,tn.jsxs)(Q,{children:[(0,tn.jsx)(nn,{htmlFor:rn,children:"Address"}),(0,tn.jsx)(L.F2,{onPlaceChanged:function(){var n=o&&o.getPlace();if(n){var e=n.formatted_address;e||(d((0,G.zh)(null)),d((0,G.Vk)(n.name)));var r=n.geometry.location.lat(),i=n.geometry.location.lng();t&&t.panTo({lat:r,lng:i}),d((0,G.zh)({lat:r,lng:i})),d((0,G.Vk)(e))}},onLoad:function(n){a(n)},children:(0,tn.jsx)(en,{id:rn,name:"address",type:"text",value:u,onChange:function(n){var e=n.target;l(e.value.trim())},placeholder:"Enter address",required:!0})})]})},an=null,cn=null,sn="0 km",un="0 m",ln=function(){var n=O(),e=n.address,t=n.user_location,r=(0,S.j)(),i=r.user_id,o=r.store_location,a=(0,B.useState)(an),c=(0,R.Z)(a,2),s=c[0],u=c[1],l=(0,B.useState)(cn),d=(0,R.Z)(l,2),f=d[0],p=d[1],m=(0,B.useState)(sn),h=(0,R.Z)(m,2),x=h[0],g=h[1],b=(0,B.useState)(un),Z=(0,R.Z)(b,2),v=Z[0],j=Z[1],y=(0,V.I0)(),w=new window.google.maps.Geocoder;(0,B.useEffect)((function(){if(!i){navigator.geolocation.getCurrentPosition((function(n){var e=n.coords;y((0,G.zh)({lat:e.latitude,lng:e.longitude}))}))}}),[y,i]),(0,B.useEffect)((function(){var n=function(){var n=(0,T.Z)(A().mark((function n(e,t){var r,i;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:return r=new window.google.maps.DirectionsService,n.next=5,r.route({origin:e,destination:t,travelMode:window.google.maps.TravelMode.DRIVING});case 5:i=n.sent,p(i),g(i.routes[0].legs[0].distance.text),j(i.routes[0].legs[0].duration.text);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return n(o,t),function(){u(an),p(cn),g(sn),j(un)}}),[t,o]);return(0,tn.jsxs)(tn.Fragment,{children:[(0,tn.jsx)(H,{children:(0,tn.jsxs)(L.b6,{center:o,zoom:11,mapContainerStyle:{width:"100%",height:"100%"},options:{zoomControl:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},onLoad:function(n){return u(n)},onClick:function(n){var e=n.latLng;if(e){var t={lat:e.lat(),lng:e.lng()};y((0,G.zh)(t)),w.geocode({latLng:e},(function(n,e){if("OK"===e&&n.length>0){var t=n[0].formatted_address||n[0].name;y((0,G.Vk)(t))}}))}},children:[(0,tn.jsx)(L.Jx,{position:o}),t&&(0,tn.jsx)(L.Jx,{position:t}),f&&(0,tn.jsx)(L.tH,{directions:f})]})}),(0,tn.jsxs)(U,{children:[(0,tn.jsx)("p",{children:"Distance: "}),(0,tn.jsx)("p",{children:x}),(0,tn.jsx)("p",{children:"Duration: "}),(0,tn.jsx)("p",{children:v})]}),(0,tn.jsx)(on,{address:e,map:s,geocoder:w})]})},dn=t(3433),fn=t(1413),pn=t(1134),mn=t(4695),hn=t(6688),xn=t(6768),gn=t(6727),bn=gn.Ry().shape({name:gn.Z_().required(hn.pB).matches(xn.cS,hn.CN.format).max(16,hn.CN.size),email:gn.Z_().required(hn.pB).email(hn.qB),number:gn.Z_().required(hn.pB).matches(xn.Oj,hn.Td)}),Zn=(0,W.x0)(),vn=[{inputName:"name",type:"text",id:(0,W.x0)(),label:"Name",placeholder:"Enter your name"},{inputName:"email",type:"email",id:(0,W.x0)(),label:"Email",placeholder:"Enter email"},{inputName:"number",type:"tel",id:(0,W.x0)(),label:"Phone",placeholder:"Enter phone"}],jn=t(4942),yn=function(n,e){return n.reduce((function(n,t){return(0,fn.Z)((0,fn.Z)({},n),{},(0,jn.Z)({},t.inputName,e[t.inputName]))}),{})},wn=t(4925),kn=t(5970),zn=X.Z.div(s||(s=(0,K.Z)(["\n  position: relative;\n"]))),_n=X.Z.label(u||(u=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n\n  color: ",";\n"])),(function(n){return n.textPrimary})),Cn=X.Z.input(l||(l=(0,K.Z)(["\n  background-color: #fff;\n  outline: none;\n  border: 2px solid ",";\n  border-radius: 8px;\n  color: #212121;\n  padding: 0.875rem;\n\n  width: 100%;\n\n  &::placeholder {\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 18px;\n\n    color: ",";\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.text})),En=X.Z.p(d||(d=(0,K.Z)(["\n  width: 100%;\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  transform: translateX(-50%);\n\n  color: red;\n  font-size: 12px;\n  font-weight: 500;\n"]))),Nn=["id","inputName","label","register","errors"],Sn=function(n){var e=n.id,t=n.inputName,r=n.label,i=n.register,o=n.errors,a=(0,wn.Z)(n,Nn);return(0,tn.jsxs)(zn,{children:[(0,tn.jsx)(_n,{htmlFor:e,children:r}),(0,tn.jsx)(Cn,(0,fn.Z)((0,fn.Z)({id:e},a),i(t))),(0,tn.jsx)(En,{children:(0,tn.jsx)(kn.B,{errors:o,name:t})})]})},Mn=X.Z.ul(f||(f=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  padding-top: 20px;\n"]))),qn=function(n){return n.map((function(n){return{name:n.name,price:n.price,amount:n.amount}}))},In=t(5859),Tn=t(3762),Rn=t(9085),Pn=function(){var n=O(),e=(0,In.y)().orders,t=(0,S.j)(),r=t.user_id,i=t.items,o=t.store_name,a=t.total_price,c=(0,V.I0)(),s=(0,pn.cI)({resolver:(0,mn.X)(bn),defaultValues:(0,fn.Z)({},yn(vn,n))}),u=s.register,l=s.handleSubmit,d=s.formState.errors,f=function(){return Rn.Am.success("Your order has been successfully sent!")},p=function(){var t=(0,T.Z)(A().mark((function t(s){var u,l,d,p;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.address,l=n.user_location,d={info:{id:"".concat(Date.now()).concat(Math.floor(90*Math.random())+10),store_name:o,total_price:a},items:qn(i)},p=(0,fn.Z)((0,fn.Z)({},s),{},{address:u,location:l,orders:[].concat((0,dn.Z)(e),[d])}),r){t.next=6;break}return t.next=6,c((0,Tn.P0)(p)).unwrap().then((function(){return f()}));case 6:if(!r){t.next=9;break}return t.next=9,c((0,Tn.gU)((0,fn.Z)({id:r},p))).unwrap().then((function(){return f()}));case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,tn.jsx)("form",{id:Zn,onSubmit:l(p),children:(0,tn.jsx)(Mn,{children:vn.map((function(n){return(0,tn.jsx)("li",{children:(0,tn.jsx)(Sn,(0,fn.Z)((0,fn.Z)({},n),{},{register:u,errors:d}))},n.id)}))})})},An=t(8520),Bn=t(8274),Ln=t(2982),Vn=X.Z.div(p||(p=(0,K.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  padding: 4px 12px;\n\n  border-radius: 30px;\n  background-color: ",";\n\n  color: ",";\n"])),(function(n){return n.theme.bgPrimary}),(function(n){return n.theme.primary})),$n=X.Z.p(m||(m=(0,K.Z)(["\n  cursor: default;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 13px;\n  line-height: 16px;\n\n  text-align: center;\n"]))),Dn=X.Z.button(h||(h=(0,K.Z)(["\n  padding: 0px;\n  width: 20px;\n  height: 20px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  font-size: 20px;\n\n  color: ",";\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n\n  transition: color 250ms ",",\n    color 250ms ",",\n    transform 250ms ",";\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    cursor: default;\n    color: ",";\n    background-color: transparent;\n    transform: scale(1);\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cardTextAccent}),(function(n){return n.theme.primaryTransparet}),(function(n){return n.theme.disabled})),Fn=function(n){var e=n.id,t=n.amount,r=(0,V.I0)();return(0,tn.jsxs)(Vn,{className:"amount",children:[(0,tn.jsx)(Dn,{type:"button",onClick:function(){r((0,An.T1)({id:e,amount:t-1}))},disabled:t<=1,children:"-"}),(0,tn.jsx)($n,{children:t}),(0,tn.jsx)(Dn,{type:"button",onClick:function(){r((0,An.T1)({id:e,amount:t+1}))},children:"+"})]})},Yn=t(3033),Jn=X.Z.div(x||(x=(0,K.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n\n  padding: 20px 20px 20px 51px;\n  height: 120px;\n\n  border-radius: 22px;\n  background: ",";\n\n  @media (min-width: ",") {\n    height: 102px;\n  }\n\n  & .amount {\n    position: absolute;\n    bottom: 3%;\n    right: 2%;\n\n    @media (min-width: ",") {\n      bottom: 7%;\n      right: 3%;\n    }\n  }\n"])),(function(n){return n.theme.bgCard}),Yn.Mq,Yn.Mq),On=X.Z.div(g||(g=(0,K.Z)(["\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: center;\n  gap: 10px;\n\n  padding-left: 51px;\n"]))),Gn=X.Z.img(b||(b=(0,K.Z)(["\n  position: absolute;\n  top: 50%;\n  left: -35px;\n  transform: translate(0, -50%);\n\n  width: 70px;\n  height: 70px;\n  clip-path: circle(50% at 50% 50%);\n"]))),Kn=X.Z.h3(Z||(Z=(0,K.Z)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 101.34%;\n"]))),Xn=X.Z.p(v||(v=(0,K.Z)(["\n  font-style: normal;\n  font-weight: 700;\n  font-size: 17px;\n  line-height: 20px;\n  text-align: center;\n"]))),Hn=X.Z.button(j||(j=(0,K.Z)(["\n  padding: 0px;\n\n  color: transparent;\n  background-color: transparent;\n  border: none;\n  width: fit-content;\n  height: fit-content;\n"]))),Un=X.Z.svg(y||(y=(0,K.Z)(["\n  fill: ",";\n  height: 18px;\n  width: 18px;\n\n  transition: transform 250ms ",",\n    fill 250ms ",";\n\n  &:hover,\n  &:focus {\n    fill: ",";\n    transform: scale(1.1);\n  }\n\n  @media (min-width: ",") {\n    height: 22px;\n    width: 22px;\n  }\n"])),(function(n){return n.theme.disabled}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cubic}),(function(n){return n.theme.secondary}),Yn.Mq),Wn=t(885),Qn=function(n){var e=n.item,t=(0,V.I0)(),r=e.id,i=e.name,o=e.url,a=e.price,c=e.amount;return(0,tn.jsxs)(Jn,{children:[(0,tn.jsxs)(On,{children:[(0,tn.jsx)(Gn,{src:o,width:"70",height:"70",loading:"lazy",alt:i}),(0,tn.jsx)(Kn,{children:(0,Bn.u)(i)}),(0,tn.jsx)(Xn,{children:(0,Ln.a)(a)})]}),(0,tn.jsx)(Hn,{type:"button",onClick:function(){return t((0,An.h2)(e))},children:(0,tn.jsx)(Un,{children:(0,tn.jsx)("use",{href:"".concat(Wn.Z,"#icon-trash-can-solid")})})}),(0,tn.jsx)(Fn,{id:r,amount:c})]})},ne=X.Z.ul(w||(w=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  padding: 20px;\n"]))),ee=function(){var n=(0,S.j)().items;return(0,tn.jsx)(ne,{children:n.map((function(n){return(0,tn.jsx)("li",{children:(0,tn.jsx)(Qn,{item:n})},n.id)}))})},te=t(2882),re=X.Z.div(k||(k=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n\n  padding: 20px;\n  width: 100%;\n\n  @media (min-width: ",") {\n    flex-direction: row;\n    justify-content: space-around;\n  }\n"])),Yn.gv),ie=X.Z.div(z||(z=(0,K.Z)(["\n  display: flex;\n  gap: 10px;\n  align-items: center;\n"]))),oe=X.Z.p(_||(_=(0,K.Z)(["\n  font-style: normal;\n  font-weight: 400;\n  font-size: 17px;\n  line-height: 20px;\n"]))),ae=X.Z.p(C||(C=(0,K.Z)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 22px;\n  line-height: 26px;\n"]))),ce=(0,X.Z)(te.Y)(E||(E=(0,K.Z)(["\n  padding: 8px 50px;\n\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 20px;\n"]))),se=function(){var n=O().address,e=(0,S.j)(),t=e.total_price,r=e.items,i=(0,V.I0)();return(0,B.useEffect)((function(){var n=r.reduce((function(n,e){return n+e.price*e.amount}),0);i((0,An.m1)(n))}),[i,r]),(0,tn.jsxs)(re,{children:[(0,tn.jsxs)(ie,{children:[(0,tn.jsx)(oe,{children:"Total price: "}),(0,tn.jsx)(ae,{children:(0,Ln.a)(t)})]}),(0,tn.jsx)(ce,{form:Zn,type:"submit",disabled:!n,children:"Submit"})]})},ue=X.Z.div(N||(N=(0,K.Z)(["\n  display: grid;\n  gap: 20px;\n\n  @media (min-width: ",") {\n    grid-template-areas:\n      'form cart'\n      'form submit';\n\n    grid-template-columns: 1fr 1fr;\n\n    & > .form {\n      grid-area: form;\n    }\n\n    & > .cart {\n      grid-area: cart;\n    }\n\n    & > .submit {\n      grid-area: submit;\n      align-self: end;\n    }\n  }\n\n  & > .cart {\n    max-height: 480px;\n    overflow-y: auto;\n    overflow-x: hidden;\n\n    &::-webkit-scrollbar {\n      width: 0.5em;\n    }\n\n    &::-webkit-scrollbar-track {\n      box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background-color: ",";\n      border-radius: 5px;\n    }\n  }\n"])),Yn.Mq,(function(n){return n.theme.borderModal})),le=["places"],de=function(){var n=(0,L.Ji)({googleMapsApiKey:"",libraries:le}).isLoaded;return(0,tn.jsxs)(ue,{children:[(0,tn.jsxs)("div",{className:"form",children:[n&&(0,tn.jsx)(ln,{}),!n&&(0,tn.jsx)("div",{children:"Loading..."}),(0,tn.jsx)(Pn,{})]}),(0,tn.jsx)("div",{className:"cart",children:(0,tn.jsx)(ee,{})}),(0,tn.jsx)("div",{className:"submit",children:(0,tn.jsx)(se,{})})]})},fe=t(4884),pe=function(){var n=(0,S.j)().items,e=n.length>0,t=0===n.length;return(0,tn.jsxs)(tn.Fragment,{children:[(0,tn.jsx)(M.ql,{children:(0,tn.jsx)("title",{children:"Cart"})}),(0,tn.jsx)(q.$,{children:(0,tn.jsxs)(I.W,{children:[e&&(0,tn.jsx)(de,{}),t&&(0,tn.jsx)(fe.k,{children:"Your cart is empty"})]})})]})}},2882:function(n,e,t){t.d(e,{Y:function(){return o}});var r,i=t(168),o=t(4709).Z.button(r||(r=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 10px;\n\n  clip-path: polygon(\n    10% 0%,\n    100% 0%,\n    100% 30%,\n    100% 60%,\n    90% 100%,\n    0% 100%,\n    0% 70%,\n    0% 40%\n  );\n\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.5;\n  letter-spacing: -0.02em;\n  color: ",";\n  background-color: ",";\n  border-radius: 4px;\n  transition: transform 250ms ",",\n    color 250ms ",",\n    background-color 250ms ",",\n    clip-path 250ms ",";\n\n  &:disabled {\n    cursor: default;\n    background-color: ",";\n    border-color: ",";\n  }\n\n  &:not(:disabled):hover {\n    transform: scale(1.05);\n    clip-path: polygon(\n      0% 0%,\n      100% 0,\n      100% 0%,\n      100% 100%,\n      88% 100%,\n      0% 100%,\n      0% 70%,\n      0% 0%\n    );\n  }\n"])),(function(n){return n.theme.bgPrimary}),(function(n){return n.theme.primary}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cubic}),(function(n){return n.theme.cubic}),(function(n){return n.theme.disabled}),(function(n){return n.theme.disabled}))},4884:function(n,e,t){t.d(e,{k:function(){return o}});var r,i=t(168),o=t(4709).Z.p(r||(r=(0,i.Z)(["\n  margin: 0 auto;\n  padding-top: 30vh;\n  width: 300px;\n\n  text-align: center;\n"])))},2872:function(n,e,t){t.d(e,{$:function(){return o}});var r,i=t(168),o=t(4709).Z.section(r||(r=(0,i.Z)(["\n  padding-top: 20px;\n  padding-bottom: 20px;\n"])))},2982:function(n,e,t){t.d(e,{a:function(){return i}});var r=function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},i=function(n){return"$".concat(r(n),".00")}},8274:function(n,e,t){t.d(e,{u:function(){return r}});var r=function(n){if(n.length<=16)return n;var e=n.slice(0,14);return"".concat(e,"...")}},6688:function(n,e,t){t.d(e,{CN:function(){return i},MY:function(){return c},Td:function(){return o},pB:function(){return r},qB:function(){return a}});var r="This field is required",i={format:"Invalid name format e.g Adrian, Jacob Mercer",size:"Name may contain only 16 characters"},o="Invalid phone format",a="Invalid email format",c="Must contain digist only"},6768:function(n,e,t){t.d(e,{Oj:function(){return o},a3:function(){return a},cS:function(){return i}});var r={nameRegExp:new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),phoneRegExp:/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,codeRegExp:new RegExp("^[0-9]*$")},i=r.nameRegExp,o=r.phoneRegExp,a=r.codeRegExp}}]);
//# sourceMappingURL=95.1a60eb97.chunk.js.map